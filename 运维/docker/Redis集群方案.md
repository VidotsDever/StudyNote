Redis目前的集群方案分为以下几种：

* 主从模式：

```
主机会自动将数据同步到从机，可以进行读写分离；

不具备自动容错和恢复功能，主机从机的宕机都会导致前端部分读写请求失败，需要等待机器重启或者手动切换前端的IP才能恢复；
```



* 哨兵模式：

```
当主服务器中断服务后，可以将一个从服务器升级为主服务器，以便继续提供服务，但是这个过程需要人工手动来操作。 为此，Redis 2.8中提供了哨兵工具来实现自动化的系统监控和故障恢复功能。

哨兵模式是基于主从模式的。
```



* RedisCluster：

```
redis的哨兵模式基本已经可以实现高可用，读写分离 ，但是在这种模式下每台redis服务器都存储相同的数据，很浪费内存，所以在redis3.0上加入了cluster模式，实现的redis的分布式存储，也就是说每台redis节点上存储不同的内容。
```



#### RedisCluster

![](D:\Github\StudyNote\assets\docker-redis-1.png)

* RedisCluster中每个Master都应该有Slave；
* 